# ChefLife Anatomy
## A Living Restaurant System

**Document Created:** January 8, 2026
**Last Updated:** February 6, 2026
**Authors:** Steve Popp (Creator) & Claude (Architecture Partner)
**Version:** 2.2 - Supersession Pattern + Recipe Versioning

---

## The Insight

ChefLife is not a collection of features. It's not a restaurant management "platform."

**ChefLife is a living system.** An organism. A body.

Every restaurant is alive - it breathes, it moves, it grows, it can get sick, it can heal. ChefLife is the nervous system, the circulatory system, the voice, the skin, and the heart that keeps that body healthy.

This document captures the anatomy of that system.

---

## The Body

```
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚  ORGANIZATION   â”‚
                              â”‚                 â”‚
                              â”‚      BRAIN      â”‚
                              â”‚                 â”‚
                              â”‚  Identity       â”‚
                              â”‚  Memory         â”‚
                              â”‚  Decisions      â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚     COMMS       â”‚
                              â”‚                 â”‚
                              â”‚     VOICE       â”‚
                              â”‚                 â”‚
                              â”‚  Speaks to      â”‚
                              â”‚  the team       â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                             â”‚                             â”‚
         â–¼                             â–¼                             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  TEAMS  â”‚                 â”‚   RECIPES   â”‚                â”‚   DATA   â”‚
    â”‚         â”‚                 â”‚             â”‚                â”‚   MGMT   â”‚
    â”‚  SKIN   â”‚                 â”‚  HEART OF   â”‚                â”‚          â”‚
    â”‚         â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  THE HOUSE  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  HEART   â”‚
    â”‚         â”‚                 â”‚             â”‚                â”‚          â”‚
    â”‚ Touch   â”‚                 â”‚  Purpose    â”‚                â”‚  Pumps   â”‚
    â”‚ point   â”‚                 â”‚  & Craft    â”‚                â”‚  value   â”‚
    â”‚ with    â”‚                 â”‚             â”‚                â”‚  through â”‚
    â”‚ world   â”‚                 â”‚             â”‚                â”‚  system  â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                 â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                             â”‚                             â”‚
         â”‚                             â”‚                             â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                                       â–¼
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚     NEXUS       â”‚
                              â”‚                 â”‚
                              â”‚   CIRCULATORY   â”‚
                              â”‚     SYSTEM      â”‚
                              â”‚                 â”‚
                              â”‚  Moves events   â”‚
                              â”‚  & data to      â”‚
                              â”‚  where needed   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚   OPERATIONS    â”‚
                              â”‚                 â”‚
                              â”‚    SKELETON     â”‚
                              â”‚                 â”‚
                              â”‚  Structure      â”‚
                              â”‚  Configuration  â”‚
                              â”‚  The bones      â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## The Organs

### ğŸ§  ORGANIZATION â€” The Brain
**Location:** Organization Settings  
**Function:** Identity, memory, and decisions

The brain holds everything the restaurant knows about itself:
- Who are we? (Company profile, branding, values)
- Where are we? (Locations, timezone, contact)
- What do we believe? (Policies, procedures, culture)
- What have we learned? (Health inspections, certifications, history)

Without the brain, there's no identity. No decisions. No direction.

---

### ğŸ—£ï¸ COMMUNICATIONS â€” The Voice
**Location:** Communications Module  
**Function:** How the body speaks to its cells

The voice carries messages throughout the organization:
- Weekly performance digests
- Coaching letters and recognition
- Policy updates and announcements
- Onboarding and training communications

A silent voice means confused cells. Bad coordination. Missed signals.

---

### ğŸ‘¥ TEAMS â€” The Skin
**Location:** Team Management, Schedule Manager, Performance  
**Function:** The boundary between inside and outside

The skin is where the restaurant touches the world:
- The people who greet guests
- The hands that prepare food
- The faces that represent the brand
- The boundary that protects the interior

Healthy skin means good service, happy guests, protected operations.  
Damaged skin means vulnerability, poor experience, exposure.

The skin also senses - performance tracking, attendance, feedback loops.

---

### â¤ï¸ RECIPES â€” Heart of the House
**Location:** Recipe Manager (`/admin/recipes`, `/admin/recipes/:id`)  
**Function:** The purpose. The craft. Why we exist.

This is the soul of the restaurant:
- The dishes that define the brand
- The techniques passed down and refined
- The standards that ensure consistency
- The creativity that keeps guests coming back

The heart of the house is WHY the restaurant exists.  
Not to make money - to feed people, to create experiences, to share craft.

**Architecture:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        RECIPE MODULE STRUCTURE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  RecipeDetailPage (11-Tab Editor)                                          â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                           â”‚
â”‚  â”œâ”€â”€ Recipe Info    â†’ Name, type, category, ingredients, costing          â”‚
â”‚  â”œâ”€â”€ Instructions   â†’ Steps, stages, timing                                â”‚
â”‚  â”œâ”€â”€ Production     â†’ Prep/cook/rest times, yield, temps                  â”‚
â”‚  â”œâ”€â”€ Labels         â†’ Label requirements, printer config                   â”‚
â”‚  â”œâ”€â”€ Storage        â†’ Storage areas, shelf life, temps                     â”‚
â”‚  â”œâ”€â”€ Stations       â†’ Kitchen stations, equipment                          â”‚
â”‚  â”œâ”€â”€ Quality        â†’ Visual/texture/taste/aroma standards                â”‚
â”‚  â”œâ”€â”€ Allergens      â†’ Allergen tracking, cross-contact                     â”‚
â”‚  â”œâ”€â”€ Media          â†’ Photos, videos, plating references                   â”‚
â”‚  â”œâ”€â”€ Training       â†’ Skill levels, certifications, safety                â”‚
â”‚  â””â”€â”€ Versions       â†’ Version history, MAJOR.MINOR.PATCH, comm tiers      â”‚
â”‚                                                                             â”‚
â”‚  KEY FEATURES                                                              â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•                                                              â”‚
â”‚  â€¢ Tab-level change tracking (amber indicators show unsaved sections)     â”‚
â”‚  â€¢ Dynamic Recipe Type from Food Relationships taxonomy                   â”‚
â”‚  â€¢ Floating action bar shows exactly which tabs have changes              â”‚
â”‚  â€¢ Responsive layout via .admin-container                                 â”‚
â”‚  â€¢ MAJOR.MINOR.PATCH versioning with communication tiers                  â”‚
â”‚  â€¢ Retire & Reissue via Supersession Pattern (no history deletion)        â”‚
â”‚                                                                             â”‚
â”‚  RECIPE TYPES (from Food Relationships)                                    â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                    â”‚
â”‚  Major Groups with is_recipe_type = true become tabs in Recipe Manager:   â”‚
â”‚  â€¢ Prepared Items (mis en place, sauces, rubs)                            â”‚
â”‚  â€¢ Final Goods (menu items, retail)                                       â”‚
â”‚  â€¢ Custom types as configured                                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ›¡ï¸ ALLERGEN MANAGER â€” The Immune System
**Location:** Allergen Manager (`/admin/allergens`)
**Function:** Protection. Compliance. Trust.

The immune system protects guests and the business:
- **Environmental Tracking** â€” Allergens present at kitchen stations (flour dust, nut contamination)
- **Ingredient-Level** â€” Three-state system (Contains | May Contain | None) for each ingredient
- **Recipe Cascading** â€” Station allergens automatically flow to recipes assigned to that station
- **Customer Disclosure** â€” Chain: Ingredients â†’ Recipes â†’ Menu Items â†’ Customer Portal
- **Regulatory Compliance** â€” Supports Natasha's Law (UK), Health Canada, FDA Big 9 (US), FSANZ (AU/NZ)
- **White-Label Customization** â€” Upload custom allergen icons to match your brand identity

**Architecture:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ALLERGEN MANAGER STRUCTURE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ALLERGEN DATA FLOW                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                        â”‚
â”‚  Layer 0: Master Ingredients                                                â”‚
â”‚  â”œâ”€â”€ Allergen presence (Contains, May Contain, None)                        â”‚
â”‚  â”œâ”€â”€ Supplier warnings (cross-contamination risk)                           â”‚
â”‚  â””â”€â”€ Custom allergen fields (3 slots for jurisdiction-specific needs)       â”‚
â”‚                                                                             â”‚
â”‚  Layer 1: Kitchen Stations (Environmental)                                  â”‚
â”‚  â”œâ”€â”€ Station allergen configuration (flour aerosolization, nut dust, etc.)  â”‚
â”‚  â”œâ”€â”€ Cross-contact risk areas                                               â”‚
â”‚  â””â”€â”€ Automatically cascades to recipes assigned to that station             â”‚
â”‚                                                                             â”‚
â”‚  Layer 2: Recipes                                                           â”‚
â”‚  â”œâ”€â”€ Inherits ingredient allergens                                          â”‚
â”‚  â”œâ”€â”€ Inherits station environmental allergens                               â”‚
â”‚  â””â”€â”€ Can override/add manual declarations                                   â”‚
â”‚                                                                             â”‚
â”‚  Layer 3: Customer Portal (Future)                                          â”‚
â”‚  â”œâ”€â”€ Public-facing allergen information                                     â”‚
â”‚  â”œâ”€â”€ QR codes for table tents                                               â”‚
â”‚  â”œâ”€â”€ Embeddable widget for website                                          â”‚
â”‚  â””â”€â”€ White-label custom allergen icons                                      â”‚
â”‚                                                                             â”‚
â”‚  WHITE-LABEL CUSTOMIZATION (Planned)                                        â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                            â”‚
â”‚  â€¢ Icon Pack Selection (Modern, Classic, Minimal, Medical)                  â”‚
â”‚  â€¢ Per-Allergen Custom SVG Upload                                           â”‚
â”‚  â€¢ Fallback to system defaults if no custom icon provided                   â”‚
â”‚  â€¢ Preview system before applying changes                                   â”‚
â”‚  â€¢ Multi-jurisdiction support (swap icon sets by region)                    â”‚
â”‚                                                                             â”‚
â”‚  COMPLIANCE SUPPORT                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                         â”‚
â”‚  â€¢ Natasha's Law (UK) â€” Full ingredient/allergen disclosure                 â”‚
â”‚  â€¢ Health Canada â€” Enhanced labeling requirements                           â”‚
â”‚  â€¢ FDA Big 9 (US) â€” Major food allergen labeling                            â”‚
â”‚  â€¢ FSANZ (AU/NZ) â€” Food Standards Australia New Zealand                     â”‚
â”‚  â€¢ Three-state system for nuanced risk communication                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Why Allergen Manager is Core:**

This isn't optional. One allergic reaction can:
- Hospitalize a guest
- Destroy your reputation
- Close your doors permanently
- Result in criminal charges (Natasha's Law precedent)

The immune system MUST be healthy. ChefLife treats allergen management with the same importance as COGS tracking â€” it's mission-critical to survival.

---

### ğŸ’° DATA MANAGEMENT â€” The Heart (COGS Engine)
**Location:** Master Ingredients, Vendor Invoices, Inventory  
**Function:** Pumps VALUE through the entire system

This is the financial heart - the COGS Engine:

```
    BUY (Purchases)
         â”‚
         â–¼
    MAKE (Production)
         â”‚
         â–¼
    SELL (Revenue)
         â”‚
         â–¼
    COGS = Cost Ã· Sales
```

Every ingredient has a cost.  
Every recipe consumes ingredients.  
Every sale generates revenue.  
The heart pumps value from purchase to plate to profit.

**When the heart is weak, the restaurant dies.**  
Bad COGS data â†’ bad pricing â†’ bad margins â†’ no payroll â†’ closed doors.

**When the heart is strong, everything thrives.**  
$96,000 saved in one year at Memphis Fire BBQ. That's a strong heart.

---

### ğŸ”„ NEXUS â€” The Circulatory System
**Location:** Activity Log, Event System  
**Function:** Moves events and data to where they're needed

NEXUS is the blood flow:
- Every action logged
- Every change tracked
- Every event routed to the right place
- Every system connected

When circulation stops, parts start dying:
- No accountability
- No visibility
- No audit trail
- Isolated systems that can't talk

NEXUS keeps everything flowing, everything connected, everything alive.

---

### ğŸ¦´ OPERATIONS â€” The Skeleton
**Location:** Operations Manager  
**Function:** The structure everything hangs on

The skeleton provides:
- Measurements and units
- Storage locations and containers
- Kitchen stations and departments
- Revenue channels and vendors
- Labels and printing

Without bones, the body is just a pile of organs.  
Operations gives ChefLife its STRUCTURE - the configuration that makes everything else possible.

---

### ğŸŒ³ FOOD RELATIONSHIPS â€” The Taxonomy (DNA)
**Location:** Admin â†’ Organization â†’ Operations â†’ Food Relationships Tab  
**Function:** The genetic code that classifies everything

Food Relationships is the **taxonomy** â€” the classification system that tells ChefLife what everything IS:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FOOD RELATIONSHIPS HIERARCHY                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  MAJOR GROUPS (Top-level buckets)                                          â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                           â”‚
â”‚  â”œâ”€â”€ ğŸ– FOOD              â†’ Raw ingredients you cook                       â”‚
â”‚  â”œâ”€â”€ ğŸº ALCOHOL           â†’ Beverages for bar                              â”‚
â”‚  â”œâ”€â”€ ğŸ§‘â€ğŸ³ MIS EN PLACE      â†’ Prepared items (sauces, rubs, stocks)         â”‚
â”‚  â”œâ”€â”€ ğŸ“¦ FINAL GOODS       â†’ Ready-to-sell items (retail, desserts)        â”‚
â”‚  â””â”€â”€ ğŸ“‹ RECEIVING         â†’ Operational supplies (paper, chemicals)        â”‚
â”‚                                                                             â”‚
â”‚  CATEGORIES (Subdivisions)                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                 â”‚
â”‚  FOOD â†’ Proteins, Produce, Dairy, Dry Goods, Frozen, Bakery                â”‚
â”‚  ALCOHOL â†’ Beer, Wine, Spirits, Mixers                                     â”‚
â”‚  MIS EN PLACE â†’ Sauces, Rubs, Marinades, Stocks                            â”‚
â”‚                                                                             â”‚
â”‚  SUB-CATEGORIES (Finest detail)                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                            â”‚
â”‚  Proteins â†’ Beef, Pork, Chicken, Seafood, Game                             â”‚
â”‚  Produce â†’ Vegetables, Fruits, Herbs, Lettuces                             â”‚
â”‚                                                                             â”‚
â”‚  WHY IT MATTERS                                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                           â”‚
â”‚  â€¢ Recipe Manager tabs come from Major Groups (is_recipe_type flag)        â”‚
â”‚  â€¢ Food cost reports break down by Sub-Category                            â”‚
â”‚  â€¢ Inventory counts filter by Category                                     â”‚
â”‚  â€¢ Vendor analysis groups by taxonomy                                      â”‚
â”‚  â€¢ Every ingredient references this hierarchy                              â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**System Groups (ğŸ”’):** Some groups are protected â€” they can be archived but not deleted because other parts of ChefLife depend on them.

**Recipe Type Groups:** Major Groups marked as `is_recipe_type` drive the Recipe Manager tabs dynamically. Change the taxonomy, change the tabs.

Without taxonomy, there's no organization. No reports. No filters. No meaning.  
Food Relationships is the DNA that gives everything its identity.

---

## The Flows

### The Value Flow (COGS Engine)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           THE VALUE FLOW                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  LAYER 0: BUY                                                               â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                             â”‚
â”‚  Master Ingredients (things we purchase)                                    â”‚
â”‚  â”œâ”€â”€ Pork Shoulder.........$2.50/lb                                        â”‚
â”‚  â”œâ”€â”€ Bourbon...............$28.00/bottle                                   â”‚
â”‚  â”œâ”€â”€ Romaine...............$24.00/case                                     â”‚
â”‚  â””â”€â”€ T-shirts..............$8.00/each                                      â”‚
â”‚                    â”‚                                                        â”‚
â”‚                    â–¼                                                        â”‚
â”‚  LAYER 1: MAKE                                                              â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                             â”‚
â”‚  Prepared Recipes (things we transform)                                     â”‚
â”‚  â”œâ”€â”€ Pulled Pork..........consumes Pork Shoulder, Rub, Wood                â”‚
â”‚  â”œâ”€â”€ Coleslaw.............consumes Cabbage, Mayo, Vinegar                  â”‚
â”‚  â”œâ”€â”€ Simple Syrup.........consumes Sugar, Water                            â”‚
â”‚  â””â”€â”€ House BBQ Sauce......consumes 12 ingredients                          â”‚
â”‚                    â”‚                                                        â”‚
â”‚                    â–¼                                                        â”‚
â”‚  LAYER 2: SELL                                                              â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                             â”‚
â”‚  Final Recipes (things we sell) â€” organized by Revenue Channel             â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  DINE-IN    â”‚ â”‚   BAR       â”‚ â”‚  CATERING   â”‚ â”‚   RETAIL    â”‚          â”‚
â”‚  â”‚             â”‚ â”‚             â”‚ â”‚             â”‚ â”‚             â”‚          â”‚
â”‚  â”‚ Brisket     â”‚ â”‚ Old         â”‚ â”‚ BBQ Box     â”‚ â”‚ T-Shirt     â”‚          â”‚
â”‚  â”‚ Platter     â”‚ â”‚ Fashioned   â”‚ â”‚ Lunch       â”‚ â”‚             â”‚          â”‚
â”‚  â”‚             â”‚ â”‚             â”‚ â”‚             â”‚ â”‚ Bottle of   â”‚          â”‚
â”‚  â”‚ Pulled Pork â”‚ â”‚ Margarita   â”‚ â”‚ Corporate   â”‚ â”‚ House Sauce â”‚          â”‚
â”‚  â”‚ Sandwich    â”‚ â”‚             â”‚ â”‚ Tray        â”‚ â”‚             â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                    â”‚                                                        â”‚
â”‚                    â–¼                                                        â”‚
â”‚  THE NUMBER                                                                 â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                             â”‚
â”‚                                                                             â”‚
â”‚         COGS = Total Cost of Goods Sold Ã· Total Revenue                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Channel    â”‚   COGS    â”‚  Revenue   â”‚  COGS %  â”‚  Target  â”‚ Status â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Dine-In    â”‚  $28,400  â”‚  $92,000   â”‚  30.9%   â”‚   30%    â”‚   âš ï¸   â”‚   â”‚
â”‚  â”‚  Take-Out   â”‚   $8,200  â”‚  $31,000   â”‚  26.5%   â”‚   28%    â”‚   âœ…   â”‚   â”‚
â”‚  â”‚  Catering   â”‚  $12,100  â”‚  $45,000   â”‚  26.9%   â”‚   28%    â”‚   âœ…   â”‚   â”‚
â”‚  â”‚  Bar        â”‚   $4,800  â”‚  $22,000   â”‚  21.8%   â”‚   22%    â”‚   âœ…   â”‚   â”‚
â”‚  â”‚  Retail     â”‚   $2,400  â”‚   $8,000   â”‚  30.0%   â”‚   35%    â”‚   âœ…   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### The Quantity Flow (Par System)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         THE QUANTITY FLOW                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  MASTER INGREDIENTS                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                         â”‚
â”‚  Each ingredient has:                                                       â”‚
â”‚  â”œâ”€â”€ on_hand_method: 'counted' | 'par'                                     â”‚
â”‚  â”œâ”€â”€ par_level: Target quantity to keep                                    â”‚
â”‚  â””â”€â”€ current_on_hand: What we have (or think we have)                      â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Item              â”‚ Method  â”‚  Par  â”‚ On Hand â”‚  Need  â”‚  Action   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Brisket           â”‚ Counted â”‚  80lb â”‚   25lb  â”‚  55lb  â”‚  ORDER    â”‚   â”‚
â”‚  â”‚  Pork Shoulder     â”‚ Counted â”‚  60lb â”‚   45lb  â”‚  15lb  â”‚  ORDER    â”‚   â”‚
â”‚  â”‚  Fryer Oil         â”‚ Par     â”‚  4jug â”‚   1jug  â”‚  3jug  â”‚  ORDER    â”‚   â”‚
â”‚  â”‚  Romaine           â”‚ Par     â”‚  6cas â”‚   4cas  â”‚  2cas  â”‚  ORDER    â”‚   â”‚
â”‚  â”‚  Napkins           â”‚ Par     â”‚  2cas â”‚   2cas  â”‚   0    â”‚    âœ“      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚                    â”‚                                                        â”‚
â”‚                    â–¼                                                        â”‚
â”‚                                                                             â”‚
â”‚  FILL LIST (Raw Ingredients)                                               â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                               â”‚
â”‚  Par - On Hand = ORDER QUANTITY                                            â”‚
â”‚  Grouped by Vendor â†’ ORDER GUIDE                                           â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  GFS ORDER                           â”‚  FLANAGAN ORDER              â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€             â”‚   â”‚
â”‚  â”‚  Fryer Oil (3 jug).......$45.00     â”‚  Brisket (55 lb)....$247.50 â”‚   â”‚
â”‚  â”‚  Napkins (0)..............$0.00     â”‚  Pork (15 lb)........$37.50 â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚   â”‚
â”‚  â”‚  TOTAL: $45.00                       â”‚  TOTAL: $285.00              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚  PREPARED ITEMS                                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                           â”‚
â”‚  Same logic, different action:                                             â”‚
â”‚  Par - On Hand = PREP QUANTITY                                             â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Prep Item         â”‚ Method  â”‚  Par  â”‚ On Hand â”‚  Need  â”‚  Action   â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  Pulled Pork       â”‚ Par     â”‚  15lb â”‚   5lb   â”‚  10lb  â”‚  PREP     â”‚   â”‚
â”‚  â”‚  Coleslaw          â”‚ Par     â”‚  8qt  â”‚   3qt   â”‚  5qt   â”‚  PREP     â”‚   â”‚
â”‚  â”‚  House Rub         â”‚ Counted â”‚  2gal â”‚   1gal  â”‚  1gal  â”‚  PREP     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚                    â”‚                                                        â”‚
â”‚                    â–¼                                                        â”‚
â”‚                                                                             â”‚
â”‚  PREP LIST                                                                  â”‚
â”‚  â•â•â•â•â•â•â•â•â•                                                                  â”‚
â”‚  Need = What to make                                                       â”‚
â”‚  Which CONSUMES raw ingredients                                            â”‚
â”‚  Which AFFECTS the Fill List                                               â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### The Information Flow (NEXUS)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        THE INFORMATION FLOW                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Every action in ChefLife generates an event:                              â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  TEAMS â”€â”€â”€â”€â”€â”€â”€â–º "Jane clocked in at 2:03pm"                        â”‚   â”‚
â”‚  â”‚                        â”‚                                            â”‚   â”‚
â”‚  â”‚  RECIPES â”€â”€â”€â”€â”€â–º "Pulled Pork recipe updated by Chef Steve"         â”‚   â”‚
â”‚  â”‚                        â”‚                                            â”‚   â”‚
â”‚  â”‚  DATA â”€â”€â”€â”€â”€â”€â”€â”€â–º "GFS invoice imported: 47 items, $1,234.56"        â”‚   â”‚
â”‚  â”‚                        â”‚                                            â”‚   â”‚
â”‚  â”‚  COMMS â”€â”€â”€â”€â”€â”€â”€â–º "Weekly digest sent to 12 team members"            â”‚   â”‚
â”‚  â”‚                        â”‚                                            â”‚   â”‚
â”‚  â”‚                        â–¼                                            â”‚   â”‚
â”‚  â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚   â”‚
â”‚  â”‚                   â”‚  NEXUS  â”‚                                       â”‚   â”‚
â”‚  â”‚                   â”‚         â”‚                                       â”‚   â”‚
â”‚  â”‚                   â”‚  Logs   â”‚                                       â”‚   â”‚
â”‚  â”‚                   â”‚  Routes â”‚                                       â”‚   â”‚
â”‚  â”‚                   â”‚  Alerts â”‚                                       â”‚   â”‚
â”‚  â”‚                   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜                                       â”‚   â”‚
â”‚  â”‚                        â”‚                                            â”‚   â”‚
â”‚  â”‚                        â–¼                                            â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚                    ACTIVITY LOG                              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  2:03pm  Jane Smith clocked in (3 min late)     [TEAMS]     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  2:15pm  GFS Invoice imported                   [DATA]      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  2:15pm  âš ï¸ Brisket price increased 8.5%        [DATA]      â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  2:30pm  Pulled Pork recipe v1.3 approved       [RECIPES]   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  6:00pm  Weekly digest sent (12 recipients)     [COMMS]     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                                                              â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Health Indicators

Like any body, ChefLife can show signs of health or illness:

### Healthy Signs âœ…
- COGS within target ranges
- Team attendance above 95%
- Recipes up-to-date and approved
- Invoices processed within 24 hours
- Communications sent on schedule
- Activity log showing regular engagement

### Warning Signs âš ï¸
- COGS creeping above targets
- Attendance dropping
- Recipes stuck in draft status
- Invoice backlog growing
- Communications bouncing/failing
- Activity gaps (silence in the system)

### Critical Signs ğŸš¨
- COGS out of control (5%+ over target)
- High turnover / attendance crisis
- No recipe standards (everything "in someone's head")
- No price tracking (flying blind)
- Team not receiving communications
- No activity logged (system abandoned)

---

### ğŸ“‹ HR & POLICIES â€” The Compliance Shield
**Location:** HR Settings, Policies Manager, Policy Upload Form  
**Function:** Protects the body from regulatory harm. Ensures the team knows the rules.

Every restaurant operates under layers of regulation â€” food safety, workplace conduct, employment law, accessibility. The Compliance Shield ensures:
- Every policy is documented, versioned, and tracked
- Every team member reads what they need to read
- Every acknowledgment is a legal receipt
- Every update flows to the right people at the right urgency

**Without the shield:** One missed WHMIS update, one unsigned harassment policy, one expired food handler certification â€” and the body is exposed. Fines. Lawsuits. Shutdowns.

**With the shield:** The restaurant can prove â€” to inspectors, to lawyers, to insurance companies â€” that the right people read the right document at the right time.

**Architecture:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HR & POLICIES â€” THE COMPLIANCE SHIELD                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  POLICY LIFECYCLE                                                           â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                           â”‚
â”‚  Draft â†’ Published â†’ Acknowledged â†’ Recertified â†’ Archived                 â”‚
â”‚                                                                             â”‚
â”‚  VERSIONING â€” COMMUNICATION HIERARCHY                                       â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                       â”‚
â”‚  Same MAJOR.MINOR.PATCH pattern used for both Policies and Recipes.        â”‚
â”‚                                                                             â”‚
â”‚  Patch  (1.0.0 â†’ 1.0.1)  "Note on the board"                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚
â”‚  Typo fix, formatting correction. Nobody re-reads.                         â”‚
â”‚  Same row updated. No notification. Trust management.                      â”‚
â”‚                                                                             â”‚
â”‚  Minor  (1.0.x â†’ 1.1.0)  "Pre-shift mention"                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚
â”‚  New section, updated info. Worth a read.                                  â”‚
â”‚  NEXUS flags it for the team. Optional review broadcast.                   â”‚
â”‚                                                                             â”‚
â”‚  Major  (1.x.x â†’ 2.0.0)  "All-hands meeting"                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚
â”‚  New regulations, changed procedures. Everyone re-reads, everyone signs.   â”‚
â”‚  Archives old version. Creates new draft. Re-acknowledgment required.      â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚  ACKNOWLEDGMENT FLOW (Phase 3)                                              â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                              â”‚
â”‚  Admin publishes policy                                                     â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  NEXUS routes `policy_ack_required` to applicable team members             â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  Team member opens policy in ChefLife (PDF viewer)                         â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  Reads, scrolls, taps "I have read and understand"                         â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  `policy_acknowledgments` row created â€” legal receipt:                     â”‚
â”‚  â”œâ”€â”€ Who (team_member_id)                                                   â”‚
â”‚  â”œâ”€â”€ What (policy_id + policy_version)                                     â”‚
â”‚  â”œâ”€â”€ When (acknowledged_at timestamp)                                      â”‚
â”‚  â”œâ”€â”€ Where (ip_address + user_agent)                                       â”‚
â”‚  â””â”€â”€ Proof (optional digital signature)                                    â”‚
â”‚       â”‚                                                                     â”‚
â”‚       â–¼                                                                     â”‚
â”‚  NEXUS logs `policy_ack_completed`                                         â”‚
â”‚  Admin dashboard updates compliance counts in real time                    â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚  CATEGORY SYSTEM                                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                            â”‚
â”‚  User-configurable categories (not hardcoded):                             â”‚
â”‚  Health & Safety â”‚ Employment & HR â”‚ Food Safety/HACCP â”‚ Operations        â”‚
â”‚  Workplace Conduct â”‚ Technology & Privacy â”‚ Training â”‚ General             â”‚
â”‚                                                                             â”‚
â”‚  Each category has: icon, color, cover image, sort order                   â”‚
â”‚  CategoryManager: L5/L6 CRUD with drag-reorder and image upload            â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚  APPLICABILITY (who must acknowledge)                                      â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                       â”‚
â”‚  Three filters â€” empty means "everyone":                                   â”‚
â”‚  â”œâ”€â”€ Departments (Front of House, Kitchen, Bar, Management)                â”‚
â”‚  â”œâ”€â”€ Scheduled Roles (Line Cook, Server, Dishwasher, etc.)                 â”‚
â”‚  â””â”€â”€ Kitchen Stations (Grill, Fry, Prep, etc.)                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Why the Shield is Core:**

Insurance companies ask: "Can you prove your team was trained?"  
Labour boards ask: "Can you prove they acknowledged the policy?"  
Health inspectors ask: "Can you prove the food handler cert is current?"  

The answer should always be: "Yes. Here's the timestamped receipt."

---

### ğŸ—ï¸ The Type System â€” Built for 1,000 Organizations

ChefLife is architected for scale from day one. Not MVP. Not "we'll fix it later." The type system reflects a deliberate discipline: **one source of truth per domain, documented migration paths, and no duplicate definitions.**

This matters because when you sell to 1,000 restaurants, a type mismatch doesn't crash one app â€” it corrupts 1,000 databases.

**The Rule: Every domain gets one canonical types file.**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TYPE SYSTEM ARCHITECTURE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  CANONICAL SOURCE FILES (single source of truth)                           â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                            â”‚
â”‚  types/policies.ts      â†’ Policy, PolicyAcknowledgment, versioning         â”‚
â”‚  types/modules.ts       â†’ Module configs, base patterns, HR config         â”‚
â”‚  types/ingredients.ts   â†’ MasterIngredient, Triangle Model types           â”‚
â”‚  types/recipes.ts       â†’ Recipe, RecipeIngredient, production             â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚  THE PATTERN: DB â†’ Types â†’ Service â†’ Hook â†’ Component                      â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                       â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   Postgres      â”‚     â”‚  types/*.ts       â”‚     â”‚  lib/*-service â”‚        â”‚
â”‚  â”‚   (snake_case)  â”‚â”€â”€â”€â”€â–ºâ”‚  (snake_case)     â”‚â”€â”€â”€â”€â–ºâ”‚  (typed CRUD)  â”‚        â”‚
â”‚  â”‚                 â”‚     â”‚  Single source    â”‚     â”‚                â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                           â”‚                 â”‚
â”‚                                                           â–¼                 â”‚
â”‚                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚                          â”‚  components     â”‚â—„â”€â”€â”€â”€â”‚  hooks         â”‚          â”‚
â”‚                          â”‚  (consume type) â”‚     â”‚  (state mgmt)  â”‚          â”‚
â”‚                          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚  NAMING CONVENTION                                                          â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                           â”‚
â”‚  Database columns:    snake_case  (effective_date, category_id)             â”‚
â”‚  TypeScript types:    snake_case  (matches DB â€” no mapping layer)          â”‚
â”‚  Component props:     camelCase   (React convention)                       â”‚
â”‚                                                                             â”‚
â”‚  Why snake_case in types? Because Supabase returns snake_case from         â”‚
â”‚  .select() queries. Mapping between cases is a bug factory. If the         â”‚
â”‚  type matches the wire format, there is zero serialization risk.           â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚  MIGRATION DISCIPLINE                                                       â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                        â”‚
â”‚  When a domain migrates (e.g., JSONB â†’ relational table):                  â”‚
â”‚                                                                             â”‚
â”‚  1. New canonical type created in domain file (e.g., Policy)               â”‚
â”‚  2. Old type marked @deprecated with migration path comment                â”‚
â”‚  3. Shared enums centralized in new file, re-exported from old file        â”‚
â”‚  4. Bridge hook maps old shape â†” new shape during transition               â”‚
â”‚  5. Once all consumers migrate, bridge + old type removed                  â”‚
â”‚                                                                             â”‚
â”‚  Example: Policy migration (Session 71)                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  BEFORE (JSONB era)              AFTER (Relational era)             â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚   â”‚
â”‚  â”‚  PolicyTemplate (camelCase)  â†’   Policy (snake_case) â† canonical   â”‚   â”‚
â”‚  â”‚  in modules.ts                   in policies.ts                     â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  RecertificationInterval     â†’   RecertificationInterval            â”‚   â”‚
â”‚  â”‚  in modules.ts                   in policies.ts â† canonical         â”‚   â”‚
â”‚  â”‚                                  re-exported from modules.ts        â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  PolicyRow (duplicate)       â†’   export type PolicyRow = Policy     â”‚   â”‚
â”‚  â”‚  in usePolicies.ts               (alias, will be removed)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚  SHARED ENUMS RULE                                                          â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                           â”‚
â”‚  If two modules share an enum (e.g., ReviewSchedule used by both           â”‚
â”‚  Policies and Recipes), it lives in the module that owns the DB table.     â”‚
â”‚  Other modules import from there.                                          â”‚
â”‚                                                                             â”‚
â”‚  ReviewSchedule          â†’ owned by policies.ts (policies table)           â”‚
â”‚  RecertificationInterval â†’ owned by policies.ts (policies table)           â”‚
â”‚  VersionBumpType         â†’ owned by policies.ts (used by recipes too)      â”‚
â”‚                                                                             â”‚
â”‚                                                                             â”‚
â”‚  THE "NO WHAT-THE-HELL" TEST                                               â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                â”‚
â”‚  A developer opening the codebase for the first time should be able to:    â”‚
â”‚  1. Find the canonical type for any domain in under 30 seconds             â”‚
â”‚  2. See @deprecated markers with migration paths on any legacy type        â”‚
â”‚  3. Understand WHY something was done, not just WHAT was done              â”‚
â”‚  4. Never encounter two definitions of the same thing without              â”‚
â”‚     a clear comment explaining which one is canonical                      â”‚
â”‚                                                                             â”‚
â”‚  If a future developer says "What the hell?" â€” we failed.                  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Why this discipline matters:**

ChefLife is not built by a team of 50 engineers who can tap each other on the shoulder. It's built in conversation sessions â€” asynchronous, context-switching, sometimes weeks apart. The type system is the institutional memory that survives between sessions. If it's wrong, every session starts by untangling the last one's mess. If it's right, every session builds on solid ground.

---

### ğŸ”— The Supersession Pattern â€” Nothing Is Ever Silently Erased

Across every module, ChefLife follows one architectural rule: **records are never deleted, only superseded.**

When something is replaced â€” an invoice, an allergen declaration, a recipe version, a policy â€” the old record survives. Grayed out, linked forward to its replacement, linked backward to its origin. Always visible in history. Always auditable.

**The Pattern Shape:**
```
superseded_at     TIMESTAMPTZ     -- NULL = active
superseded_by     UUID/FK         -- Forward link to replacement
supersedes_id     UUID/FK         -- Backward link to original
```

**Rules:**
- `superseded_at IS NULL` â†’ active record
- `superseded_at IS NOT NULL` â†’ replaced, grayed, never deleted
- Both directions always set â€” no orphaned links
- Constraint: one active per entity

**Implementations:**

| Module | What Gets Superseded | Why It Matters |
|--------|---------------------|----------------|
| Vendor Invoices | Price corrections, re-imports | Financial audit trail |
| Allergen Declarations | Pinned to recipe versions | Natasha's Promise â€” broken chains kill |
| Recipe Reissue | "Start fresh" without destroying history | Operational continuity |
| Policies | Regulatory updates | ESA compliance proof |

**UI Treatment:**
- Active: normal rendering
- Superseded: grayed (`text-gray-500`, `opacity-60`), "Superseded" badge
- Forward link: "Superseded by [Name]" â€” clickable
- Backward link: "Reissued from [Name] vX.Y.Z" â€” clickable
- Always visible in history/audit views, never deletable

**The Promise:** "No record in ChefLife is ever silently erased. If it existed, it still exists â€” superseded, linked, and preserved."

**The Build Rule:** "If someone needs to prove what was here before, can they? If the answer is no, the feature isn't done."

See: [PATTERN-Supersession.md](patterns/PATTERN-Supersession.md), [PROMISE-Nothing-Erased.md](promises/PROMISE-Nothing-Erased.md)

---

## The Philosophy

### People Over Profit
ChefLife exists to help restaurants thrive - not just survive. The COGS engine doesn't exist to squeeze every penny. It exists to ensure the restaurant can:
- Pay people fairly
- Maintain quality
- Stay in business
- Grow sustainably

### Smiles Over Savings
Efficiency matters, but not at the cost of humanity. Every feature should ask: "Does this help create better experiences for guests AND team members?"

### Compassion Over Commerce
Independent restaurants are communities. They're someone's dream. They're the third place between home and work. ChefLife is built to protect that dream, not exploit it.

### L6 â€” Respect the User's Time

Beyond L5 polish, there's L6: features that respect operators' time by preserving context.

> "L5 respects the user's craft. L6 respects their time."

When a user filters 522 ingredients down to 6 butter items, edits one, and needs to move to the next â€” do they re-filter? Re-search? Start over?

**L5 Answer:** They navigate back, filters are preserved, they click the next item.  
**L6 Answer:** They press â†’ and stay in their butter context. No re-filtering. No lost work. The system remembers what they were doing.

L6 is the difference between software that makes you work and software that works *for you*.

**Another L6 Example: Mobile Invoice Entry**

Other apps promise "just snap a photo!" for receipt capture. Reality: contort your phone for a flat shot, wait for OCR, verify line-by-line, fix the errors anyway. 3+ minutes of frustration.

**L6 Answer:** Pick vendor â†’ see their items â†’ tap qty/price â†’ done. 30 seconds. No photo gymnastics, no robot homework to audit. Your time matters more than a gimmick.

---

## The Vision

### Restaurants 2.0

The restaurant industry is broken:
- 60% fail in the first year
- Operators work 80-hour weeks
- Data is scattered across 12 systems
- Knowledge lives in people's heads
- Margins are razor-thin

**ChefLife is the operating system for Restaurants 2.0:**
- One system that thinks like a restaurant
- Data flows like blood through a body
- Knowledge is captured and shared
- Operators work smarter, not harder
- Margins are protected by the COGS engine

### The $96K Story

Memphis Fire BBQ saved $96,000 in one year using the ChefLife COGS engine. That's not a sales pitch. That's proof that when you can SEE where your money goes, you can control it.

Every independent restaurant deserves that visibility.

---

## The Triangle Model (Ingredient Architecture)

Every ingredient exists in THREE dimensions - how you buy it, how you count it, and how you use it:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        THE INGREDIENT TRIANGLE                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚                           PURCHASE UNIT                                     â”‚
â”‚                          (How you BUY it)                                   â”‚
â”‚                               â–²                                             â”‚
â”‚                              /â”‚\                                            â”‚
â”‚                             / â”‚ \                                           â”‚
â”‚                            /  â”‚  \                                          â”‚
â”‚                           /   â”‚   \                                         â”‚
â”‚           $30.96         /    â”‚    \        $30.96                          â”‚
â”‚           â”€â”€â”€â”€â”€â”€â”€       /     â”‚     \       â”€â”€â”€â”€â”€â”€â”€                         â”‚
â”‚           5 LB         /      â”‚      \      176.37 OZ                       â”‚
â”‚           = $6.19/LB  /       â”‚       \     = $0.1755/OZ                    â”‚
â”‚                      /        â”‚        \                                    â”‚
â”‚                     /         â”‚         \                                   â”‚
â”‚                    â–¼          â”‚          â–¼                                  â”‚
â”‚            INVENTORY UNIT     â”‚      RECIPE UNIT                            â”‚
â”‚           (How you COUNT it)  â”‚     (How you USE it)                        â”‚
â”‚                               â”‚                                             â”‚
â”‚                               â”‚                                             â”‚
â”‚  EXAMPLE: MOLASSES (1 x 5LB JUG @ $30.96)                                  â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                               â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚  PURCHASE       â”‚  INVENTORY      â”‚  RECIPE         â”‚                   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
â”‚  â”‚  Unit: 5LB JUG  â”‚  Unit: LB       â”‚  Unit: OZ       â”‚                   â”‚
â”‚  â”‚  Price: $30.96  â”‚  Units/Purch: 5 â”‚  Units/Purch:   â”‚                   â”‚
â”‚  â”‚                 â”‚  Cost: $6.19/LB â”‚  176.37         â”‚                   â”‚
â”‚  â”‚                 â”‚                 â”‚  Cost: $0.1755  â”‚                   â”‚
â”‚  â”‚                 â”‚  Par: 3 LB      â”‚                 â”‚                   â”‚
â”‚  â”‚                 â”‚  Reorder: 1 LB  â”‚  Yield: 100%    â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                                                             â”‚
â”‚  WHY THREE UNITS?                                                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                         â”‚
â”‚  â€¢ You BUY a 5LB jug (that's what the invoice says)                       â”‚
â”‚  â€¢ You COUNT by the pound ("we have about 3 LB left")                     â”‚
â”‚  â€¢ You USE by the ounce (recipe calls for 4 OZ molasses)                  â”‚
â”‚                                                                             â”‚
â”‚  Each perspective serves a different business function.                    â”‚
â”‚  ChefLife tracks all three and auto-converts between them.                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## The Cascade System (Automatic Cost Propagation)

When a price changes, EVERYTHING downstream updates automatically:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          THE PRICE CASCADE                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  VENDOR INVOICE UPLOADED                                                    â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                     â”‚
â”‚  GFS Invoice: Brisket now $4.75/lb (was $4.50/lb)                          â”‚
â”‚                          â”‚                                                  â”‚
â”‚                          â–¼                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  TRIGGER 1: Update Master Ingredient                                â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚   â”‚
â”‚  â”‚  master_ingredients.current_price = $4.75                           â”‚   â”‚
â”‚  â”‚  master_ingredients.cost_per_recipe_unit = $4.75 Ã· 16 = $0.297/OZ  â”‚   â”‚
â”‚  â”‚  master_ingredients.inventory_unit_cost = $4.75/LB                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚                                         â”‚
â”‚                                   â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  TRIGGER 2: Cascade to Recipe Ingredients                           â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚   â”‚
â”‚  â”‚  UPDATE recipe_ingredients                                          â”‚   â”‚
â”‚  â”‚  SET unit_cost = $0.297, total_cost = qty Ã— $0.297                  â”‚   â”‚
â”‚  â”‚  WHERE ingredient_id = [brisket]                                    â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚  47 recipes updated automatically                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚                                         â”‚
â”‚                                   â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  TRIGGER 3: Roll Up Recipe Costs [FUTURE]                           â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚   â”‚
â”‚  â”‚  recipes.total_cost = SUM(recipe_ingredients.total_cost)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚                                         â”‚
â”‚                                   â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  TRIGGER 4: Update Menu Item Margins [FUTURE]                       â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                          â”‚   â”‚
â”‚  â”‚  menu_items.food_cost = recipes.total_cost                          â”‚
â”‚  â”‚  menu_items.margin = (price - food_cost) Ã· price                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚                                         â”‚
â”‚                                   â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  DASHBOARD ALERT                                                    â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚   â”‚
â”‚  â”‚  âš ï¸ "Brisket Sandwich margin dropped: 68% â†’ 62%"                   â”‚   â”‚
â”‚  â”‚  âš ï¸ "5 menu items now below target margin"                         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  THE PHILOSOPHY                                                            â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•                                                            â”‚
â”‚  "When a price changes, EVERYTHING downstream updates automatically.      â”‚
â”‚   No spreadsheet refresh. No manual recalculation. Just truth."           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Inventory Tracking System

### Priority Levels
Not all ingredients are equal. ChefLife tracks priority for reporting:

| Priority | Use Case | Dashboard Visibility |
|----------|----------|---------------------|
| **Critical** | High-value proteins, signature items | Always visible, daily tracking |
| **High** | Key ingredients, frequent use | Weekly focus, prominent display |
| **Standard** | Normal ingredients | Standard tracking |
| **Low** | Stable dry goods, rare use | Minimal tracking |

### Inventory Schedules
Ingredients can participate in multiple count schedules:

| Schedule | Frequency | Typical Items |
|----------|-----------|---------------|
| **Daily** | Every day | Proteins, high-value items, perishables |
| **Weekly** | Once per week | Standard full inventory |
| **Monthly** | Once per month | Stable dry goods, paper products |
| **Spot Check** | Random audits | Variance investigation, theft prevention |

### The Count Sheet Query
```sql
-- Generate today's count sheet (daily items)
SELECT * FROM master_ingredients 
WHERE inventory_schedule @> ARRAY['daily']
ORDER BY storage_area, product;

-- Critical items for dashboard
SELECT * FROM master_ingredients 
WHERE priority_level = 'critical' 
AND show_on_dashboard = true;
```

---

## The Mobile Paradigm: People, Place, Profit

ChefLife has two distinct experiences:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DESKTOP vs MOBILE EXPERIENCE                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  DESKTOP ADMIN                         MOBILE COMMAND CENTER                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•                         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•                â”‚
â”‚                                                                             â”‚
â”‚  Complex data grids                    Glanceable widgets                   â”‚
â”‚  Deep navigation                       Swipe pages                          â”‚
â”‚  Mouse precision                       Thumb-friendly targets               â”‚
â”‚  Information dense                     Action focused                       â”‚
â”‚  Sidebar + tabs                        Launcher + icons                     â”‚
â”‚                                                                             â”‚
â”‚  Same data. Completely different experience.                               â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### The Three Pillars

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PEOPLE â€¢ PLACE â€¢ PROFIT                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  This isn't random. It's restaurant philosophy:                            â”‚
â”‚                                                                             â”‚
â”‚  "If you don't have the people, you don't have a place for guests.         â”‚
â”‚   No guests, no profit. Take care of 1 and 2 â€” 3 follows if you're         â”‚
â”‚   not daft."                                                               â”‚
â”‚                                           â€” Steve Popp                      â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚     PEOPLE      â”‚  â”‚      PLACE      â”‚  â”‚     PROFIT      â”‚             â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚             â”‚
â”‚  â”‚  Team schedule  â”‚  â”‚  Temp logs      â”‚  â”‚  Quick Invoice  â”‚             â”‚
â”‚  â”‚  Who's on       â”‚  â”‚  Task lists     â”‚  â”‚  Inventory      â”‚             â”‚
â”‚  â”‚  Messaging      â”‚  â”‚  Receiving      â”‚  â”‚  Revenue        â”‚             â”‚
â”‚  â”‚  Coaching       â”‚  â”‚  Checklists     â”‚  â”‚  Admin access   â”‚             â”‚
â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚          â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ SWIPE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’                                   â”‚
â”‚                                                                             â”‚
â”‚                        â—‹  â—  â—‹                                             â”‚
â”‚                     (Newton's cradle)                                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### The Mobile Shell

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         MOBILE COMMAND CENTER                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸ”´ 2 temps overdue â”‚ GFS arriving 2pm                         â†â†’   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â–² Alert Ticker (scrolling urgents)                 â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         Evening, Chef Steve                                         â”‚   â”‚
â”‚  â”‚         LINE â€¢ 3hrs left on shift                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â–² Hero Context (shift-aware)                       â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â–¼ Team Schedule                                       5 on â”‚ 1 brk â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ â”‚  â—‹ Emily   â—‹ Marcus   â—‹ Aaron   +2                             â”‚ â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â–² Widget Accordion (expandable)                    â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                  â”‚
â”‚  â”‚   ğŸŒ¡ï¸    â”‚  â”‚   ğŸ“    â”‚  â”‚   ğŸ“¦    â”‚                                  â”‚
â”‚  â”‚  Temps   â”‚  â”‚ Invoice  â”‚  â”‚ Receive  â”‚  â† Glassmorphism Icons          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                  â”‚
â”‚                                                                             â”‚
â”‚                        â—‹  â—  â—‹                                             â”‚
â”‚                    â–² Page Dots (Newton's cradle physics)                   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   ğŸ       ğŸ“¦      ğŸ“–      â±ï¸      âš¡                               â”‚   â”‚
â”‚  â”‚  Home    Inv    Recipe   Prod   Command                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                         â–² Bottom Nav (4 + Command)                         â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Role-Based Visibility

If you can't use it, you don't see it. No greyed-out buttons taunting line cooks.

| Role | People | Place | Profit |
|------|--------|-------|--------|
| **Line Cook** | My Profile, Schedule | Temps, Tasks | â€” |
| **Shift Lead** | + Full Team | + Receive | Invoice, Counts |
| **Manager** | All | All | All + Admin |

---

## Technical Foundation

### Database Core
- **master_ingredients** â€” Layer 0: Things we buy
- **recipes** â€” Layer 1 & 2: Things we make and sell
- **inventory_counts** â€” Point-in-time quantity snapshots
- **operations_settings** â€” The skeleton configuration
- **organization settings** â€” The brain's memory

### Key Relationships
```
organizations
    â””â”€â”€ master_ingredients (what we buy)
            â””â”€â”€ recipe.ingredients (what recipes consume)
                    â””â”€â”€ recipes[type='prepared'] (what we make)
                            â””â”€â”€ recipes[type='final'] (what we sell)
                                    â””â”€â”€ revenue_channels (how we sell it)
```

### Ingredient Types: Purchased vs Prep

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PURCHASED INGREDIENTS              PREP INGREDIENTS            â”‚
â”‚  (From Vendor)                      (Made In-House)             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  item_code: "1410441"               item_code: "Xk9mR2pQ"       â”‚
â”‚  ingredient_type: 'purchased'       ingredient_type: 'prep'     â”‚
â”‚  source_recipe_id: null             source_recipe_id: UUID      â”‚
â”‚                                                                 â”‚
â”‚  Cost: Vendor price                 Cost: Calculated from       â”‚
â”‚        (VIM import)                       sub-recipe            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Friendly ID System:** Prep items use Base58-encoded UUIDs as item codes:
- UUID: `7f3a2b1c-4d5e-6f7a-8b9c-0d1e2f3a4b5c` (36 chars)
- Friendly: `Xk9mR2pQ` (8 chars)
- Deterministic, reversible, URL-safe

### Triage Workflow: The Cleanup Queue

VIM import creates items that need attention. Triage surfaces them:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VIM IMPORT â†’ TRIAGE â†’ COMPLETE â†’ MIL                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  SKIPPED (ğŸ‘» Ghost)        - 0% complete, parked during import â”‚
â”‚  INCOMPLETE (âš ï¸ Alert)     - Partial %, needs required fields  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  PURCHASED (ğŸ›’ Cart)       - From vendor (numeric item_code)   â”‚
â”‚  PREP (ğŸ‘¨â€ğŸ³ ChefHat)         - Made in kitchen (no vendor code)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

Location: VIM â†’ Triage tab (cyan, between Import and History)

### The Par System (To Be Built)
```sql
-- Added to master_ingredients:
on_hand_method      -- 'counted' | 'par'
par_level           -- target quantity
current_on_hand     -- what we have
reorder_point       -- alert threshold

-- Added to recipes:
revenue_channel     -- links final recipes to revenue channels
```

---

## Conclusion

ChefLife is not software. It's not a platform. It's not a tool.

**ChefLife is a body.**

And like any body, it needs all its organs working together. The heart pumping value. The voice communicating clearly. The skin protecting and sensing. The blood flowing through every part.

When the body is healthy, the restaurant thrives.

That's the vision. That's the mission. That's ChefLife.

---

*"Keep communication consistent, keep commerce kind, and keep your culture cool and comfortable, my friends."*

â€” Steve Popp, Creator of ChefLife

---

**Document Version:** 2.2
**Status:** Living Document
**Last Update:** February 6, 2026 - Supersession Pattern + Recipe Versioning
**Next Update:** As the body grows

---

## Version History

| Version | Date | Changes |
|---------|------|--------|
| 1.0 | Jan 8, 2026 | Initial creation - The Revelation |
| 1.1 | Jan 9, 2026 | Added Triangle Model (Purchase/Inventory/Recipe units), Cascade System (automatic cost propagation), Inventory Tracking (priorities & schedules) |
| 1.2 | Jan 10, 2026 | Added L6 Philosophy - "Respect the User's Time" - filter-aware navigation that preserves context |
| 1.3 | Jan 10, 2026 | Added Triage Workflow, Ingredient Types (purchased/prep), Friendly ID system |
| 1.4 | Jan 10, 2026 | Triage Panel L5 Refactor - ExcelDataGrid standard, StatBar, custom render |
| 1.5 | Jan 11, 2026 | Added L6 Mobile Invoice Entry example - "fast entry beats photo gymnastics" |
| 1.6 | Jan 11, 2026 | **Mobile Paradigm** - People, Place, Profit architecture, MobileShell design, Newton's cradle dots |
| 1.7 | Jan 16, 2026 | **Nexus Dashboard** - MRI screen for vital signs, Premium Animation System (AnimatedNumber, MorphingText) |
| 1.8 | Jan 21, 2026 | **Food Relationships** - The Taxonomy/DNA organ. Major Groups â†’ Categories â†’ Sub-Categories hierarchy. L5 build with Guided Mode, character counters, empty state management. |
| 1.9 | Jan 22, 2026 | **Recipe Module Architecture** - 11-tab editor detail, tab-level change tracking, dynamic Recipe Type from taxonomy, admin-container responsive layout. |
| 2.0 | Feb 1, 2026 | **Allergen Manager Core Module** - 5th core module extracted from Recipe Settings. Three-state allergen system (Contains/May Contain/None), environmental tracking at stations, L5 Vitals Page accordion pattern, white-label icon customization (planned), multi-jurisdiction compliance (Natasha's Law, FDA, Health Canada, FSANZ). The Immune System organ. |
| 2.1 | Feb 5, 2026 | **HR & Policies (The Compliance Shield)** + **Type System Architecture**. Policy lifecycle (draft/published/archived), MAJOR.MINOR.PATCH versioning with restaurant communication hierarchy, acknowledgment flow design, configurable categories. Type system discipline documented: single source of truth per domain, snake_case convention, migration discipline, shared enum ownership rules, the "No What-The-Hell" test. Built for 1,000 organizations. |
| 2.2 | Feb 6, 2026 | **Supersession Pattern + Recipe Versioning**. Platform-wide Supersession Pattern documented (superseded_at/superseded_by/supersedes_id). MAJOR.MINOR.PATCH with communication tiers implemented in Recipe VersionHistory (Patch=silent, Minor=broadcast, Major=mandatory meeting). Retire & Reissue architecture for recipes. bumpType stored per version for NEXUS integration. Nothing-Erased promise: no record silently deleted, all superseded with bidirectional links. |
